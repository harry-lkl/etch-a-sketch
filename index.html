<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>etch-a-sketch</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>etch your sketch here</h1>
    <div id="selectSizeUI">
        <button id="-" onclick="lessCells()">-</button>
        <h3 id="boardWidth">16</h3>
        <button id="+" onclick="moreCells()">+</button>
    </div>
    <button id="generateBoard" onclick="generateBoard()">clear</button>
    <div id="container">
        <div id="board">

        </div>
    </div>
    <script>
        generateBoard();

        function moreCells() {
            const boardWidthValue = parseInt(document.getElementById('boardWidth').textContent);
            const boardWidth = document.getElementById('boardWidth');
            const buttonText = document.getElementById('generateBoard');
            buttonText.textContent = `go!`
            if (boardWidthValue >= 100) {
                return; 
            }
            const newBoardWidth = boardWidthValue + 1;
            boardWidth.textContent = newBoardWidth;
        }

        function lessCells() {
            const boardWidthValue = parseInt(document.getElementById('boardWidth').textContent);
            const boardWidth = document.getElementById('boardWidth');
            const buttonText = document.getElementById('generateBoard');
            buttonText.textContent = `go!`
            if (boardWidthValue <= 0) {
                return;
            }
            const newBoardWidth = boardWidthValue - 1;
            boardWidth.textContent = newBoardWidth;
        }

        let mouseState = false;
        document.body.addEventListener("mousedown", mouseDown => mouseState = true);
        document.body.addEventListener("mouseup", mouseUp => mouseState = false);

        function generateBoard() {
            const board = document.getElementById('board');
            const boardWidthValue = parseInt(document.getElementById('boardWidth').textContent);
            const boardSize = boardWidthValue ** 2
            const buttonText = document.getElementById('generateBoard');
            buttonText.textContent = `clear`
            board.innerHTML = '';
            board.style.cssText = `grid-template-columns:repeat(${boardWidthValue}, 1fr); grid-template-rows:repeat(${boardWidthValue}, 1fr);`
            for (let i = 0; i <= boardSize - 1; i++) {
                createCell();
            }
            const cells = document.querySelectorAll('.cell');
            cells.forEach(cell => cell.addEventListener('mouseenter', paint => cell.classList.add('painted')));           
        }

        function createCell() {
            const board = document.getElementById('board');
            const cell = document.createElement('div');
            cell.classList.add('cell')
            board.appendChild(cell);
        }        
    </script>  
</body>
</html>
